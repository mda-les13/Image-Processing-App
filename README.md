# Image-Processing-App

## Описание приложения
Приложение **ImageProcessingApp** — это простое Windows-приложение для обработки изображений, реализованное на платформе WPF с использованием C#. Оно позволяет загружать изображения, применять к ним различные фильтры (черно-белый, негатив, сепия, виньетирование), регулировать яркость и четкость, добавлять водяной знак и сохранять результат в различных форматах.

---

## Архитектура приложения
Приложение реализовано в стиле **Code-behind**, где вся логика сосредоточена в классе `MainWindow.xaml.cs`. Однако код структурирован с использованием следующих подходов:
- Разделение на логические блоки через `#region`.
- Использование стандартных компонентов WPF (например, `OpenFileDialog`, `SaveFileDialog`).
- Прямая манипуляция пикселями через `WriteableBitmap`.
- Обработка событий через подписку на методы (например, `SelectImage_Click`, `ConvertToGrayscale_Click`).

---

## Основные классы и методы

### 1. **MainWindow**
Основной класс приложения, наследующий `System.Windows.Window`. Содержит:
- **Поля:**
  - `watermarkImage` — хранит загруженное изображение для водяного знака.
- **Конструктор:**
  - Инициализирует окно и устанавливает минимальные размеры (`MinHeight = 450`, `MinWidth = 800`).
- **Методы:**

#### a. **Загрузка и сохранение изображений**
- **`SelectImage_Click`**  
  Открывает диалоговое окно для выбора изображения и отображает его в `OriginalImage`.

- **`ConvertImageFormat_Click`**  
  Сохраняет исходное изображение в выбранном формате (PNG, JPEG, BMP, TIFF).

- **`SaveImage_Click`**  
  Сохраняет изменённое изображение (`ModifiedImage`) в выбранном формате.

#### b. **Обработка изображений**
- **`ConvertToGrayscale_Click`**  
  Преобразует изображение в черно-белое с использованием весовых коэффициентов:  
  $ \text{gray} = 0.3R + 0.59G + 0.11B $.

- **`EnhanceSharpness_Click`**  
  Повышает четкость изображения с помощью свёрточного ядра (матрицы 3x3). Степень четкости регулируется через `SharpnessSlider`.

- **`EnhanceBrightness_Click`**  
  Изменяет яркость изображения на заданное значение, ограниченное диапазоном [0, 255].

- **`ConvertToNegative_Click`**  
  Инвертирует цвета изображения.

- **`VignetteImage_Click`**  
  Применяет эффект виньетирования, затемняя края изображения. Степень затемнения регулируется через `VignetteStrengthSlider`.

- **`ApplySepia_Click`**  
  Накладывает эффект сепии, используя формулы:  
  $ R' = 0.393R + 0.769G + 0.189B $,  
  $ G' = 0.349R + 0.686G + 0.168B $,  
  $ B' = 0.272R + 0.534G + 0.131B $.

- **`AddWatermark_Click`**  
  Накладывает водяной знак на изображение. Знак масштабируется до 30% исходного размера и позиционируется в правом нижнем углу с полупрозрачностью.

#### c. **Вспомогательные методы**
- **`GetCurrentImage`**  
  Возвращает текущее изображение для обработки в зависимости от состояния `ModifyOriginalCheckbox`.

- **`RemoveImage_Click`**  
  Очищает исходное и изменённое изображения.

- **`Exit_Click`**  
  Завершает работу приложения.

- **`About_Click`**  
  Отображает информацию о программе.

- **`Window_PreviewKeyDown`**  
  Обрабатывает горячие клавиши (Ctrl+O, Ctrl+S и т.д.).

---

## Интерфейс пользователя
Интерфейс реализован через XAML (`MainWindow.xaml`) и включает:
- **Меню:** Файл, Действия, Справка.
- **Кнопки:** Выбрать изображение, Конвертировать, Применить фильтры.
- **Слайдеры:** Регулировка яркости, четкости, силы виньетирования, степени сепии.
- **Чекбокс:** "Изменять исходное изображение".
- **Области отображения:** Исходное и изменённое изображения.

---

## Примеры использования
### Пример 1: Загрузка и сохранение изображения
1. Нажмите **"Выбрать изображение"** (или Ctrl+O).
2. Выберите файл изображения.
3. Нажмите **"Сохранить изображение"** (или Ctrl+S) и выберите формат.

### Пример 2: Применение фильтра "Черно-белый"
1. Загрузите изображение.
2. Нажмите **"Сделать черно-белым"** (или Ctrl+W).

### Пример 3: Добавление водяного знака
1. Загрузите изображение.
2. Нажмите **"Добавить водяной знак"** (или Ctrl+I).
3. Выберите изображение для водяного знака.
4. Результат отобразится в области "Изменённое изображение".

---

## Требования и зависимости
- **Платформа:** .NET Framework 4.7.2 или выше.
- **Библиотеки:** 
  - `Microsoft.Win32` (для диалоговых окон).
  - `System.Windows.Media.Imaging` (для работы с изображениями).
- **Ограничения:**
  - Поддержка форматов: PNG, JPEG, BMP, GIF, TIFF.
  - Максимальная производительность для больших изображений (отсутствует асинхронная обработка).
